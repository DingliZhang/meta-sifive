header:
  version: 11

build_system: oe

repos:

  bitbake:
    url: https://git.openembedded.org/bitbake
    refspec: b986eac18b6a8bf633f5ef15f32f68de4c86173b
    layers:
      .: excluded

  openembedded-core:
    url: https://git.openembedded.org/openembedded-core
    refspec: dd137feabdad2e7a2b3d107c703aad577a2e79c7
    layers:
      meta:

  meta-sifive:

distro: nodistro

local_conf_header:
  meta-sifive-common: |
    USER_CLASSES:append = " buildhistory buildstats buildstats-summary"
    EXTRA_IMAGE_FEATURES ?= "debug-tweaks"
    INHERIT:append = " rm_work"
    RM_OLD_IMAGE = "1"

  qemu-native: |
    PACKAGECONFIG:append:pn-qemu-system-native = " sdl"
    PACKAGECONFIG:append:pn-nativesdk-qemu = " sdl"

  testimage: |
    DISTRO_FEATURES:append = " ptest"

    EXTRA_IMAGE_FEATURES ?= "debug-tweaks"

    IMAGE_CLASSES:append = " testimage"

    IMAGE_FEATURES:append = " ptest-pkgs ssh-server-openssh"
