header:
  version: 11

build_system: oe

repos:

  bitbake:
    url: https://git.openembedded.org/bitbake
    refspec: 074da4c469d1f4177a1c5be72b9f3ccdfd379d67
    layers:
      .: excluded

  openembedded-core:
    url: https://git.openembedded.org/openembedded-core
    refspec: 744a2277844ec9a384a9ca7dae2a634d5a0d3590
    layers:
      meta:

  meta-sifive:

distro: nodistro

local_conf_header:
  standard: |
    USER_CLASSES:append = " buildhistory buildstats buildstats-summary"
    EXTRA_IMAGE_FEATURES ?= "debug-tweaks"
    INHERIT:append = " rm_work"
    RM_OLD_IMAGE = "1"

  testimage: |
    DISTRO_FEATURES:append = " ptest"

    EXTRA_IMAGE_FEATURES ?= "debug-tweaks"

    IMAGE_CLASSES:append = " testimage"

    IMAGE_FEATURES:append = " ptest-pkgs ssh-server-openssh"

    PACKAGECONFIG:append:pn-qemu-system-native = " sdl"
    PACKAGECONFIG:append:pn-nativesdk-qemu = " sdl"
